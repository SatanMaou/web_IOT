(function(){var t={981:function(t,s,i){"use strict";var e=i(6369),n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main",staticStyle:{height:"100%"}},[s("div",{staticStyle:{height:"100%"},attrs:{id:"content"}},[t._m(0),s("div",{attrs:{id:"bodyContent"}},[s("div",{staticClass:"content-details text-center"},[s("div",{staticClass:"row align-items-start"},[t._m(1),s("div",{staticClass:"col-7"},[s("div",{staticClass:"card p-3 border bg-light"},[s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item f-up fs-2"},[t._v("lịch sử đo")]),s("li",{staticClass:"list-group-item overflow-auto body-list",attrs:{"data-bs-smooth-scroll":"true"}},[s("table",{staticClass:"table",attrs:{items:t.items}},[t._m(2),s("tbody",t._l(t.items,(function(i,e){return s("tr",{key:i.id},[s("th",{staticClass:"fs-3",attrs:{scope:"row"}},[t._v(t._s(e+1))]),s("td",{staticClass:"fs-3"},[t._v(t._s(i.Distance)+" cm")]),s("td",{staticClass:"fs-3"},[t._v(t._s(t.formatTime(i.Time)))])])})),0)])])])])]),t._m(3)])])]),t._m(4),t._m(5)])])},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-center align-items-center justify-content-center",attrs:{id:"headerContent"}},[s("span",{staticClass:"f-title f-up"},[t._v("Hệ thống đo độ cao lưu thông cho tàu thuyền ở cầu")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-2"},[s("div",{staticClass:"card p-3 border bg-light"},[s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item f-up fs-2"},[t._v("độ cao hiện tại")]),s("li",{staticClass:"list-group-item body-list",staticStyle:{display:"flex","justify-content":"center","align-items":"center",padding:"20px"}},[s("div",{staticClass:"details-number"},[s("span",{staticClass:"f-strong",attrs:{id:"NumberDetail"}}),s("br"),s("span",{staticClass:"f-strong"},[t._v("cm")])])])])])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"fs-3 f-up",attrs:{scope:"col-1"}},[t._v("stt")]),s("th",{staticClass:"fs-3 f-up",attrs:{scope:"col-6"}},[t._v("distance")]),s("th",{staticClass:"fs-3 f-up",attrs:{scope:"col-5"}},[t._v("time")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-3"},[s("div",{staticClass:"card p-3 border bg-light"},[s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item f-up fs-2"},[t._v("biểu đồ đường")]),s("li",{staticClass:"list-group-item body-list"},[s("canvas",{staticStyle:{width:"100%",display:"inline-block"},attrs:{id:"myChart"}})])])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"sky"},[s("img",{staticClass:"cloud1",attrs:{src:"img/cloud.png",alt:""}}),s("img",{staticClass:"cloud2",attrs:{src:"img/cloud.png",alt:""}}),s("img",{staticClass:"cloud3",attrs:{src:"img/cloud.png",alt:""}}),s("img",{staticClass:"cloud4",attrs:{src:"img/cloud.png",alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"background-img content-img container-fluid"},[s("img",{staticClass:"img-fluid bg-sky",attrs:{src:"img/Artboard_2.png",alt:"Hình ảnh nền"}}),s("div",{staticClass:"space"},[s("div",{staticClass:"box",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[s("div",{staticClass:"img"},[s("img",{staticStyle:{width:"392px",height:"452px",margin:"-209px 0 0 236px"},attrs:{src:"img/arrow.png"}})]),s("div",{staticClass:"details"},[s("span",{staticStyle:{"font-size":"160px","font-weight":"600",color:"red"}},[s("span",{attrs:{id:"NumberDetail1"}}),t._v(" cm")])])])]),s("div",{staticClass:"ocean"},[s("div",{staticClass:"wave"}),s("div",{staticClass:"wave"}),s("div",{staticClass:"wave"})])])}];i(7658);const r=i(9968),c="192.168.1.6",o="3001",l=`mqtt_${Math.random().toString(16).slice(3)}`,u=`mqtt://${c}:${o}`,d=r.connect(u,{clientId:l,clean:!0,connectTimeout:4e3,username:"chuyendoiso",password:"chuyendoiso@2023tlus",reconnectPeriod:1e3});var f=d,g=i(4161),m=i(1632),p={name:"App",components:{},data(){return{dataSubscribe:null,items:null}},methods:{mqtt(){const t="khoang cach";f.on("connect",(()=>{console.log("Connected MQTT"),f.subscribe([t],(()=>{console.log(`Subscribe To Topic '${t}'`)}))})),f.on("message",((t,s)=>{document.getElementById("NumberDetail").innerText=s.toString(),document.getElementById("NumberDetail1").innerText=s.toString(),this.APIDatabase()}))},APIDatabase(){new Promise((t=>{g.Z.get("http://192.168.1.6:3000/query",(function(s){t(s)})).then((s=>{t(s)})).catch((function(t){console.log(t)})).finally((function(){}))})).then((t=>{this.items=t.data,this.drawChart()}))},formatTime(t){let s=new Date(t),i=parseInt(s.getHours()+7)+":"+s.getMinutes()+":"+s.getSeconds()+"\t\t"+s.getDate()+"/"+parseInt(s.getMonth()+1)+"/"+s.getFullYear();return i},drawChart(){let t=[];this.items.forEach((s=>{t.push(s.Distance)}));const s=document.getElementById("myChart");new m.ZP(s,{type:"line",data:{labels:[1,2,3,4,5,6,7,8,9,10,11,12],datasets:[{label:"My First Dataset",data:t,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}})}},mounted(){this.mqtt(),this.APIDatabase(),this.formatTime()}},h=p,v=i(1001),C=(0,v.Z)(h,n,a,!1,null,null,null),b=C.exports;e.ZP.config.productionTip=!1,new e.ZP({render:t=>t(b)}).$mount("#app")},7294:function(){},5036:function(){},2361:function(){},4616:function(){}},s={};function i(e){var n=s[e];if(void 0!==n)return n.exports;var a=s[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=t,function(){var t=[];i.O=function(s,e,n,a){if(!e){var r=1/0;for(u=0;u<t.length;u++){e=t[u][0],n=t[u][1],a=t[u][2];for(var c=!0,o=0;o<e.length;o++)(!1&a||r>=a)&&Object.keys(i.O).every((function(t){return i.O[t](e[o])}))?e.splice(o--,1):(c=!1,a<r&&(r=a));if(c){t.splice(u--,1);var l=n();void 0!==l&&(s=l)}}return s}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[e,n,a]}}(),function(){i.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(s,{a:s}),s}}(),function(){i.d=function(t,s){for(var e in s)i.o(s,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};i.O.j=function(s){return 0===t[s]};var s=function(s,e){var n,a,r=e[0],c=e[1],o=e[2],l=0;if(r.some((function(s){return 0!==t[s]}))){for(n in c)i.o(c,n)&&(i.m[n]=c[n]);if(o)var u=o(i)}for(s&&s(e);l<r.length;l++)a=r[l],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(u)},e=self["webpackChunkpjnode"]=self["webpackChunkpjnode"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=i.O(void 0,[998],(function(){return i(981)}));e=i.O(e)})();
//# sourceMappingURL=app.3502f7ef.js.map